:icons: font
:toc: left
:toclevels: 3

== Matplotlib examples

=== plot 2D

==== Plot of Sine

[source,python]
.matplotlib_plot_sin_show.py
----
import numpy as np
import matplotlib.pyplot as plt

x = np.arange(-10.0, 10.0, 0.1)
y = np.sin(x)
plt.plot(x, y)
plt.show()
----

[source,python]
.matplotlib_plot_sin_save_png.py
----
import numpy as np
import matplotlib.pyplot as plt


x = np.arange(-10.0, 10.0, 0.1)
y = np.sin(x)
plt.plot(x, y)
plt.savefig('matplotlib_plot_sin.png')
----

image::images/matplotlib_plot_sin.png[]

==== Random points

[source,python]
.matplotlib_plot_random_point_diagram.py
----
import numpy as np
import matplotlib.pyplot as plt

x = np.random.randn(30)
y = np.sin(x) + np.random.randn(30)
plt.plot(x, y, "o")  # "o"は小さい円(circle marker)
plt.savefig('matplotlib_plot_random_point_diagram.png')
----

image::images/matplotlib_plot_random_point_diagram.png[]

==== Random lines

[source,python]
.matplotlib_plot_random_line_graph.py
----
import numpy as np
import matplotlib.pyplot as plt

x = np.random.randn(30)
y = np.sin(x) + np.random.randn(30)
plt.plot(x, y)  # "o"は小さい円(circle marker)
plt.savefig('matplotlib_plot_random_line_graph.png')
----

image::images/matplotlib_plot_randam_line_graph.png[]

=== Plot 3D

==== 3D wireframe plot
[source,python]
.matplotlib_plot3d_wireframe.py
----
import matplotlib.pyplot as plt
import numpy as np

x = np.arange(-3, 3, 0.25)
y = np.arange(-3, 3, 0.25)
X, Y = np.meshgrid(x, y)
Z = np.sin(X) + np.cos(Y)

fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')
ax.plot_wireframe(X, Y, Z)

plt.show()
----

image::images/matplotlib_plot3d_wireframe.png[]

==== Rastrigin function
[source,python]
.matplotlib_plot3d_rastrigin.py
----
from matplotlib import cm
import numpy as np
import matplotlib.pyplot as plt

x = np.linspace(-5.12, 5.12, 100)
y = np.linspace(-5.12, 5.12, 100)
x, y = np.meshgrid(x, y)
z = 20 + x**2 - 10 * np.cos(2 * np.pi * x) + y**2 - 10 * np.cos(2 * np.pi * y)

figure = plt.figure()
axe = figure.add_subplot(111, projection='3d')
surface = axe.plot_surface(
    x, y, z,
    rstride=1, cstride=1,
    cmap=cm.winter, linewidth=0, antialiased=False
)

# figure.savefig("matplotlib_plot3d_rastrigin.png")
plt.show()
----

image::images/matplotlib_plot3d_rastrigin.png[]

=== Streamplot

==== Examples 1
[source,python]
.matplotlib_plot_stream1.py
----
import numpy as np
import matplotlib.pyplot as plt

x, y = np.linspace(-3, 3, 100), np.linspace(-3, 3, 100)
X, Y = np.meshgrid(x, y)
U = -1 - X**2 + Y
V = 1 + X - Y**2
speed = np.sqrt(U*U + V*V)

start = [[0, 0], [1, 2]]

fig0, ax0 = plt.subplots()

ax0.streamplot(
    x, y, U, V, color=(.75, .90, .93)
)
ax0.streamplot(
    x, y, U, V, start_points=start, color="crimson", linewidth=2
)

plt.show()
----

image::images/matplotlib_streamplot_1.png[]


==== Examples 2

[source,python]
.matplotlib_plot_stream2.py
----
import numpy as np
import matplotlib.pyplot as plt

# Data
x = np.linspace(-10, 10, 10)
y = np.linspace(-10, 10, 10)
X, Y = np.meshgrid(x, y)
U = X*0 + 1
V = X*0
start_points = [[0, 0]]

# Base streamline plot
plt.figure()
sp1 = plt.streamplot(x, y, U, V, color=[.5]*3)

# Streamline plot with 'start_points' argument
sp2 = plt.streamplot(x, y, U, V, start_points=start_points,
                     color='r')
plt.plot(*start_points[0], marker='o', label="Starting point")
plt.plot([], [], color='r', label="Associated streamline")

# Legend and limits
plt.xlim(-10, 10)
plt.ylim(-10, 10)
plt.legend(numpoints=1)

plt.show()
----

image::images/matplotlib_streamplot_2.png[]


==== Examples 3

[source,python]
.matplotlib_plot_stream3.py
----
import numpy as np
import matplotlib.pyplot as plt

X, Y = (np.linspace(-3, 3, 100), np.linspace(-3, 3, 100))

U, V = np.mgrid[-3:3:100j, 0:0:100j]

seed_points = np.array([[-2, 0, 1], [-2, 0, 1]])
print(seed_points)

fig0, ax0 = plt.subplots()
stream_plot = ax0.streamplot(
    X, Y, U, V, color=U, linewidth=2,
    cmap=plt.cm.autumn, start_points=seed_points.T
)
fig0.colorbar(stream_plot.lines)

ax0.plot(seed_points[0], seed_points[1], 'bo')

ax0.axis((-3, 3, -3, 3))

plt.show()
----

image::images/matplotlib_streamplot_3.png[]