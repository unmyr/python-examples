:icons: font
ifndef::leveloffset[]
:toc: left
:toclevels: 3
endif::[]

== Python Strings

=== Python String Format

* https://mkaz.blog/code/python-string-format-cookbook/[Python String Format Cookbook â€“ mkaz.blog^]

==== Python Concatenate String and int

[source,python]
----
>>> "No." + 30
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: can only concatenate str (not "int") to str
>>>
----

[source,python]
----
>>> "No." + str(30)
'No.30'
>>> "%s%s" % ("No.", 30)
'No.30'
>>> "{}{}".format("No.", 30)
'No.30'
>>>
----

[source,python]
.Using f-strings (Python 3.6 or higher versions)
----
>>> s = 'No.'
>>> n = 30
>>> f'{s}{n}'
'No.30'
>>>
----

==== Number Formatting

[source,python]
----
>>> import math
>>> "PI*100 = %g" % (math.pi * 100)
'PI*100 = 314.159'
>>> "PI*100 = %.3g" % (math.pi * 100)
'PI*100 = 314'
>>> "PI*100 = %.6g" % (math.pi * 100)
'PI*100 = 314.159'
>>> "PI*100 = %.20g" % (math.pi * 100)
'PI*100 = 314.15926535897932581'
>>>
----

=== JSON

[source,python]
----
>>> import json
>>> json.dumps(['foo', {'bar': ('baz', None, 1.0, 2)}])
'["foo", {"bar": ["baz", null, 1.0, 2]}]'
>>>
----

[source,python]
----
>>> import json
>>> import datetime
>>> json.dumps(['foo', {'bar': ('baz', None, 1.0, 2)}])
'["foo", {"bar": ["baz", null, 1.0, 2]}]'
>>> json.dumps(['foo', {'bar': ('baz', None, 1.0, 2)}, {'timestamp': datetime.datetime.now()}], default=str)
'["foo", {"bar": ["baz", null, 1.0, 2]}, {"timestamp": "2021-07-15 14:35:38.936479"}]'
>>> json.dumps(['foo', {'bar': ('baz', None, 1.0, 2)}, {'timestamp': datetime.datetime.now()}], default=lambda x: str(x))
'["foo", {"bar": ["baz", null, 1.0, 2]}, {"timestamp": "2021-07-15 14:36:53.023232"}]'
>>> json.dumps(['foo', {'bar': ('baz', None, 1.0, 2)}, {'timestamp': datetime.datetime.now()}], default=lambda x: str(x))
----
